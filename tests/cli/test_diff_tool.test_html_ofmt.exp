<!DOCTYPE html><html lang="en"><head><title>Nested diff</title><style>.nDkA{background-color:#cfc;display:inline}.nDkD,.nDkN,.nDkO{color:#000;display:inline}.nDkR{background-color:#fcc;display:inline}.nDkU,.nDvU{color:#777;display:inline}.nDvA,.nDvN{background-color:#dfd;display:inline}.nDvC,.nDvE{color:#00b;display:inline}.nDvD{font-family:monospace;white-space:pre;padding:0;margin:0;list-style:none}.nDvH{color:#707;display:inline}.nDvO,.nDvR{background-color:#fdd;display:inline}[class^="nDk"]{cursor:pointer}</style></head><body><ul class="nDvD"><li>  <div class="nDkD">[1]</div></li><ul class="nDvD"><li>+   <div class="nDkA">[1]</div></li><ul class="nDvD"><li>+     <div class="nDvA">2</div></li></ul></ul></ul><script>document.querySelector('.nDvD').addEventListener('click', event => {tgt = event.target;if (tgt.className === '') {if (!tgt.firstElementChild.className.startsWith('nDk')) {return}} else if (tgt.className.startsWith('nDk')) {tgt = tgt.parentElement} else {return}dif = tgt.nextSibling;if (dif.style.display === 'none') {dif.style.display = 'block';tgt.innerHTML = tgt.innerHTML.replace(/^./, dif.__nDstash);tgt.style.fontWeight = 'normal'} else {dif.style.display = 'none';dif.__nDstash = tgt.innerHTML.substring(1, 2);tgt.innerHTML = tgt.innerHTML.replace(/^./, '*');tgt.style.fontWeight = 'bold'}})</script></body></html>